<DeviceEntry>:

    buttonAdd : button_add
    addLabel : add_label
    titleLabel : title_label
    deviceNameText : camera_name_text
    netSSIDText : net_ssid_text
    netPassword : net_password_text
    cancelButton : cancel_button
    actionButton : action_button
    qrImage : qr_image

    ImageButton:
        # Add new device button image
        id : button_add
        size_hint : (None, None)
        size : (dp(85), dp(85))
        center_x : root.center_x
        center_y : root.center_y
        source : 'images/add2.png'
        opacity : 0 if self.disabled == True else 1
        on_press : root.entry_mode(self)

    Label:
        id: add_label
        text : '[color=aaaaaa]Add New Device[/color]'
        font_size : 14
        font_family : "arial"
        halign : 'left'
        valign : 'middle'
        center_x : root.center_x
        top : button_add.y-dp(5)
        size_hint : (None, None)
        size : (100, 40)
        markup : True
        opacity : 0 if self.disabled == True else 1

    Label:
        id: title_label
        text: "Add New Camera"
        size_hint: None, None
        size : dp(150), dp(20)
        text_size : self.size
        halign : 'center'
        valign : 'middle'
        font_size: 16
        font_family: "arial"
        markup: True
        center_x: root.center_x
        top: root.top - dp(10)
        opacity : 0 if self.disabled == True else 1
    
    TextInput:
        # New camera name
        id: camera_name_text
        hint_text: "Camera Name"
        hint_text_color: (0.3, 0.3, 0.3)
        size_hint: None, None
        size: dp(220), dp(30)
        foreground_color: (0.2, 0.2, 0.2)
        background_color: (0.9, 0.9, 0.9, 1)
        background_normal : "images/settingview/text_normal.png"
        background_active : "images/settingview/text_normal.png"
        multiline : False
        font_size: 16
        font_family: "arial"
        right: root.center_x - dp(10)
        top: title_label.y - dp(10)
        opacity : 0 if self.disabled == True else 1
        on_text : root.validate_entry(self)

    TextInput:
        # Network ssid
        id: net_ssid_text
        hint_text: "Wifi Name (SSID)"
        hint_text_color: (0.3, 0.3, 0.3)
        size_hint: None, None
        size: dp(220), dp(30)
        foreground_color: (0.2, 0.2, 0.2)
        background_color: (0.9, 0.9, 0.9)
        background_normal : "images/settingview/text_normal.png"
        background_active : "images/settingview/text_normal.png"
        multiline : False
        font_size: 16
        font_family: "arial"
        right: root.center_x - dp(10)
        top: camera_name_text.y - dp(10)
        opacity : 0 if self.disabled == True else 1
        on_text : root.validate_entry(self)

    TextInput:
        # Network password
        id: net_password_text
        hint_text: "Wifi password"
        hint_text_color: (0.3, 0.3, 0.3)
        size_hint: None, None
        size: dp(220), dp(30)
        foreground_color: (0.2, 0.2, 0.2)
        background_color: (0.9, 0.9, 0.9)
        background_normal : "images/settingview/text_normal.png"
        background_active : "images/settingview/text_normal.png"
        multiline : False
        font_size: 16
        font_family: "arial"
        right: root.center_x - dp(10)
        top: net_ssid_text.y - dp(10)
        opacity : 0 if self.disabled == True else 1
        on_text : root.validate_entry(self)

    ImageButton:
        id: action_button
        size_hint : (None, None)
        size: (dp(220), dp(30))
        source: "images/settingview/action_button_normal.png"
        right: root.center_x - dp(10)
        top: net_password_text.y - dp(10)
        on_press: root.button_press_callback(self)
        on_release : root.button_release_callback(self), root.add_new_device(camera_name_text, net_ssid_text, net_password_text)
        opacity : 0 if self.disabled == True else 1

    Label:
        id: action_button_label
        text : '[color=ffffffff]Next[/color]'
        font_size : 16
        font_family : "arial"
        text_size : self.size
        halign : 'center'
        valign : 'middle'
        size_hint : (None, None)
        size: (dp(200), dp(25))
        center_x : action_button.center_x
        center_y : action_button.center_y
        markup: True
        opacity : 0 if self.disabled == True else 1

    ImageButton:
        id: cancel_button
        size_hint : (None, None)
        size: (dp(35), dp(35))
        source: "images/settingview/cancel_button_normal.png"
        x: root.x + dp(20)
        top: root.top - dp(10)
        on_press: root.button_press_callback(self)
        on_release : root.button_release_callback(self), root.icon_mode()
        opacity : 0 if self.disabled == True else 1

    Image:
        id: qr_image
        size_hint : (None, None)
        size: (dp(160), dp(160))
        source: "images/settingview/qr_empty.png"
        x: root.center_x + dp(75)
        top: title_label.y - dp(10)
        opacity : 0 if self.disabled == True else 1

    Label:
        id: cancel_label
        text : '[color=ffffffff]Cancel[/color]'
        font_size : 14
        font_family : "arial"
        text_size : self.size
        halign : 'left'
        valign : 'middle'
        x : cancel_button.right + dp(5)
        center_y : cancel_button.center_y
        size_hint : (None, None)
        size : (50, 30)
        markup : True
        opacity : 0 if self.disabled == True else 1
        
<ImageButton@ButtonBehavior+Image>

#canvas.before:
    #    Color:
    #        rgb : (0,0,0.9)
    #    Rectangle:
    #        size : self.size
    #        pos : self.pos
